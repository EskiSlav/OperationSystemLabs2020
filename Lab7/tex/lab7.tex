\documentclass{article}

\usepackage{fancyhdr}
\usepackage{cmap}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english,russian,ukrainian]{babel}
\usepackage{indentfirst}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{titlesec}
\usepackage{fancyhdr}
\usepackage{geometry}

\hypersetup{
	colorlinks,
	citecolor=black,
	linkcolor=black,
	filecolor=black,
	urlcolor=black
}

\geometry{
	a4paper,
	total={165mm,247mm},
	left=20mm,
	top=30mm,
}

\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0.5pt}
%\renewcommand{\footrulewidth}{0.1pt}
\rhead{\LaTeX}
\lhead{Вячеслав Козачок}

\cfoot{\thepage}
%\titleformat{\section}
%{\normalfont\Large\bfseries}{\thesection}{1em}{}

%\titleformat*{\subsection}{\large\bfseries}

 \usepackage{listings}
 \usepackage{xcolor}
 
 \definecolor{codegreen}{rgb}{0,0.6,0}
 \definecolor{codegray}{rgb}{0.5,0.5,0.5}
 \definecolor{codepurple}{rgb}{0.58,0,0.82}
 \definecolor{backcolour}{rgb}{0.99,0.99,0.99}
 \definecolor{codeblue}{rgb}{0.1,0.1,0.99}
 
 \lstdefinestyle{mystyle}{
 	backgroundcolor=\color{backcolour},   
 	commentstyle=\color{codegreen},
 	keywordstyle=\color{codeblue},
 	numberstyle=\tiny\color{codegray},
 	stringstyle=\color{codepurple},
 	basicstyle=\ttfamily\footnotesize,
 	breakatwhitespace=false,         
 	breaklines=true,                 
 	captionpos=b,                    
 	keepspaces=true,                 
 	numbers=left,                    
 	numbersep=5pt,                  
 	showspaces=false,                
 	showstringspaces=false,
 	showtabs=false,                  
 	tabsize=4
 }
 
 \lstset{style=mystyle}
 
 
\begin{document}
 \include{title}
\large
\begin{enumerate}
	\item \textbf{Створення потоку.} Напишіть програму, що створює потік. Застосуйте
	атрибути за умовчанням. Батьківський і дочірній потоки мають
	роздрукувати по десять рядків тексту.
	\item \textbf{Очікування потоку.} Модифікуйте програму п. 1 так, щоби
	батьківський потік здійснював роздрукування після завершення
	дочірнього (функція \texttt{pthread\_join()}).
	\item \textbf{Параметри потоку.} Напишіть програму, що створює чотири потоки,
	що виконують одну й ту саму функцію. Ця функція має роздруковувати
	послідовність текстових рядків, переданих як параметр. Кожний
	зі створених потоків має роздруковувати різні послідовності рядків.
	\item \textbf{Примусове завершення потоку.} Дочірній потік має роздруковувати
	текст на екран. Через дві секунди після створення дочірнього потоку,
	батіківський потік має перервати його (функція \texttt{pthread\_cancel()}).
	\item \textbf{Обробка завершення потоку.} Модифікуйте програму п. 4 так, щоби
	дочірній потік перед завершенням роздруковував повідомлення про це
	(\texttt{pthread\_cleanup\_push()}).
\end{enumerate}
\newpage
\part*{Хід роботи}
\section*{Task 1}
\begin{lstlisting}[language=C]
#include <stdio.h>
#include <pthread.h>

#define TEXT "Test text"

void * printLines(void * param);
int main(int argv, char * argc[])
{
	pthread_attr_t attr;
	pthread_t p1;

	pthread_attr_init(&attr);
	pthread_create(&p1, &attr, printLines, TEXT);

	printf("%s\n", "Parent process:");
	printLines(TEXT);
	return 0;
	
}

void * printLines(void * param)
{
	for(int i = 0; i < 4; i++)
		printf("%s\n", param);
	pthread_exit(0);
}
\end{lstlisting}
Компіляцію треба здійснювати з флагом \texttt{-lpthread}, щоб працювала бібліотека \linebreak\texttt{<pthread.h>}. Також

Output:
\begin{lstlisting}[language=BASH]
gcc -g main.c -o main -lpthread
./main 
Test text
Test text
Test text
Test text
Parent process:
Test text
Test text
Test text
Test text
\end{lstlisting}


\begin{lstlisting}[language=BASH]
\end{lstlisting}
\end{document}